## 目标

* 在日志行时间戳中加入毫秒（示例：`2025-11-13 10:23:45.123`）。

* 保持现有日志格式与轮转策略不变，仅提升时间精度。

## 现状说明

* 使用 `logrus` + `logrus-easy-formatter` 输出日志。

* 时间戳布局为 `"2006-01-02 15:04:05"`，不含毫秒（`src\github.com\WQGroup\logger\logger.go:64`）。

* 标准行格式为 `"%time% - [%lvl%]: %msg%\n"`（`src\github.com\WQGroup\logger\logger.go:121`）。当 `OnlyMsg == true` 时采用 `"%msg%\n"` 不含时间（`src\github.com\WQGroup\logger\logger.go:122`）。

## 实施步骤

1. 修改时间戳布局以包含毫秒：

   * 文件：`src\github.com\WQGroup\logger\logger.go:64`

   * 变更：`TimestampFormat: "2006-01-02 15:04:05.000"`
2. 保持标准行格式不变：`"%time% - [%lvl%]: %msg%\n"`（无需改动）。
3. （可选）若希望在 `OnlyMsg` 模式也显示时间戳：

   * 文件：`src\github.com\WQGroup\logger\logger.go:122`

   * 变更为：`outputFormatOnlyMsg = "%time% %msg%\n"`

   * 仅在确有需要时执行，以避免改变既有约定。

## 验证与回归

* 编译检查：运行 `go build -v`，确保通过。

* 输出检查：打印一条日志，确认时间戳显示至毫秒（`.000` 部分随实际毫秒变化）。

* 配置回归：验证 `OnlyMsg` 模式下的行为是否符合预期（显示或隐藏时间戳取决于是否执行可选步骤）。

* 轮转不受影响：文件名时间 `%Y%m%d%H%M` 与日志行时间独立，无需更改。

## 质量提示与可选优化

* 风险点：`OnlyMsg` 模式隐藏时间戳，可能降低排障效率（晦涩性）。

* 建议将“是否显示时间戳”与“仅消息模式”解耦：新增配置项 `ShowTimestamp`（默认 `true`），用来控制是否输出 `%time%`。如需，我可在确认后以最小改动实现，并保持每个文件不超过 250 行。

