## 目标
- 在不增加冗余测试的前提下，提高关键行为与错误路径的覆盖；保持测试轻量、稳定、可维护。

## 拟新增测试
1. YAML 配置错误路径与边界
- 覆盖文件不存在、YAML 非法、类型不匹配（`LoadSettingsFromYAML`）。
- 表驱动测试覆盖 `level` 的合法与非法映射（`parseLevel`）。
2. 设置与轮转分支
- `SetLoggerSettings` 的默认与边界：`RotationTime <= 0`、`MaxAgeDays == 0` 映射到 `MaxAge`。
- 大小轮转与时间轮转两分支的路径断言：`MaxSizeMB > 0` 与 `== 0`，验证 `LogLinkFileFPath` 与 `CurrentFileName` 的一致性。
3. 输出格式分支
- `OnlyMsg` 与默认格式的差异：断言 `Formatter.LogFormat` 的效果（以捕获输出或替代 `os.Stderr` 进行黑箱验证）。
4. 清理过期日志的边界与安全
- `days <= 0` 无操作；非三层路径结构安全遍历；跨月/跨年目录清理与空目录级联删除。

## 不做或抽样测试（避免过度测试）
- 不对 `logger_base.go` 的所有包装器逐一测试；仅抽样 2–3 个代表性方法验证转发一致性。
- 暂不强测 `isWindowsGUI` 的平台分支，保留为观察项；如需覆盖，先引入可注入的输出以降低耦合。

## 测试设计与质量
- 采用表驱动测试与 `t.Cleanup` 统一清理临时目录；互不共享状态的用例可 `t.Parallel()`（避免全局 `loggerBase` 竞态）。
- 视需要引入轻量断言库（如 `testify/assert`），但保持依赖简单。

## 验证与度量
- 本地以 `go test -v -cover` 与 `-coverprofile` 生成覆盖率报告。
- 后续在 CI（如 GitHub Actions）添加基础 `go test -cover` 步骤（可选）。

## 交付
- 新增或更新少量测试文件，专注行为与错误路径；不触及生产逻辑（除必要的注入改造）。